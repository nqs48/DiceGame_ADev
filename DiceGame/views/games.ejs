<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ðŸŽ² DiceGame | All Games </title>
    <link href="../public/styles.css" rel="stylesheet" />
  </head>
  <body class="bg-gradient-to-b from-cyan-400 to-cyan-50 h-screen">
    <%- include('components/header'); %>
    <div class="flex justify-center p-6 h-4/5 overflow-y-auto">
      <div class="p-8 w-full">
        <div class="flex items-center justify-center pb-6">
          <div>
            <div
              class="rounded-full mx-auto min-h-full flex-row justify-center items-center py-12 px-4 sm:px-6 lg:px-8"
            >
              <% if (arrayGames.length > 0) { %>
              <table class="min-w-full rounded-full ">
                <thead>
                  <tr>
                    <th
                      class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"
                    >
                      Game
                    </th>
                    <th
                      class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"
                    >
                      Player 1
                    </th>
                    <th
                      class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"
                    >
                      Player 2
                    </th>
                    <th
                      class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"
                    >
                      Player 3
                    </th>
                    <th
                      class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"
                    >
                      In Progress
                    </th>
                    <th
                      class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"
                    >
                      Details
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <% arrayGames.forEach(element => { %>
                  <tr>
                    <td
                      class="px-5 py-5 border-b border-gray-200 bg-white text-sm"
                    >
                      <div class="flex items-center">
                        <div class="ml-3">
                          <p class="text-gray-800 whitespace-no-wrap">
                            <%= element._id %>
                          </p>
                        </div>
                      </div>
                    </td>
                    <td
                      class="px-5 py-5 border-b border-gray-200 bg-white text-sm"
                    >
                      <p class="text-gray-800 whitespace-no-wrap">
                        <%= element.gamers[0].name %>
                      </p>
                    </td>
                    <td
                      class="px-5 py-5 border-b border-gray-200 bg-white text-sm"
                    >
                      <p class="text-gray-800 whitespace-no-wrap">
                        <%= element.gamers[1].name %>
                      </p>
                    </td>
                    <td
                      class="px-5 py-5 border-b border-gray-200 bg-white text-sm"
                    >
                      <p class="text-gray-800 whitespace-no-wrap">
                        <%= element.gamers[2].name %>
                      </p>
                    </td>
                    <td
                      class="px-5 py-5 border-b border-gray-200 bg-white text-sm"
                    >
                      <% if (element.inProgress) { %>
                      <span
                        class="relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight"
                      >
                        <span
                          aria-hidden
                          class="absolute inset-0 bg-green-300 opacity-50 rounded-full"
                        ></span>
                        <span class="relative"><%= element.inProgress %> </span>
                      </span>
                      <% }else{ %>
                      <span
                        class="relative inline-block px-3 py-1 font-semibold text-red-900 leading-tight"
                      >
                        <span
                          aria-hidden
                          class="absolute inset-0 bg-red-200 opacity-50 rounded-full"
                        ></span>
                        <span class="relative"><%= element.inProgress %> </span>
                      </span>
                      <% } %>
                    </td>
                    <td
                      class="px-5 py-5 border-b border-gray-200 bg-white text-sm"
                    >
                      <a
                        href="/findGame/<%=element._id%>"
                        class="flex justify-center"
                      >
                        <span
                          class="group relative w-3/5 flex justify-center py-2 px-6 border border-transparent font-medium rounded-full text-white bg-blue-500 active:bg-cyan-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500"
                        >
                          Info</span
                        >
                      </a>
                    </td>
                  </tr>
                  <% }) %>
                </tbody>
              </table>
              <% }else { %>
              <span class="bg-white p-10 rounded-lg text-gray-600"
                >There no data</span
              >

              <% } %>
            </div>
          </div>
        </div>
        <div
          class="px-4 text-right sm:px-6 flex justify-center w-2/5 mx-auto my-10 rounded-lg"
        >
          <a
            href="/"
            class="group relative w-2/5 flex justify-center py-3 border border-transparent font-medium rounded-md text-white bg-cyan-400 active:bg-cyan-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-white"
          >
            Go Homepage
          </a>
        </div>
      </div>
    </div>
    <%- include('components/footer'); %>
  </body>
</html>
